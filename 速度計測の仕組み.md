# 速度計測の仕組み

このREADMEで表示されている各種統計情報とその計算方法について説明します。

## 📊 使用している統計サービス

このプロフィールREADMEでは、以下のサービスを使用して様々な指標を表示しています：

### 1. GitHub Readme Stats
**URL:** `https://github-readme-stats.vercel.app`

#### 表示される指標
- **Total Stars Earned**: リポジトリが獲得したスターの総数
- **Total Commits**: すべてのコミット数（プライベートリポジトリを含む）
- **Total PRs**: 作成したプルリクエストの総数
- **Total Issues**: 作成したイシューの総数
- **Contributed to**: コントリビュートしたリポジトリ数

#### 計算方法
- GitHubのGraphQL APIを使用してユーザーのアクティビティデータを取得
- `include_all_commits=true`パラメータにより、すべてのコミット履歴を集計
- `count_private=true`パラメータにより、プライベートリポジトリも含めて計算
- リアルタイムでデータを取得し、動的に画像を生成

### 2. GitHub Streak Stats
**URL:** `https://streak-stats.demolab.com`

#### 表示される指標
- **Current Streak**: 現在の連続コントリビュート日数
- **Longest Streak**: 過去最長の連続コントリビュート日数
- **Total Contributions**: 総コントリビュート数

#### 計算方法
- GitHubのコントリビューションカレンダーデータを解析
- 1日に1回以上のコントリビュート（コミット、PR、イシュー、レビューなど）があった場合、その日をカウント
- 連続した日数を追跡し、最長記録と現在の記録を保持
- タイムゾーンはユーザーのGitHub設定に基づいて計算

### 3. Top Languages Card
**URL:** `https://github-readme-stats.vercel.app/api/top-langs`

#### 表示される指標
- **使用言語の割合**: リポジトリ内のコード量に基づく各プログラミング言語の使用比率

#### 計算方法
- GitHubのLanguages APIを使用して各リポジトリの言語統計を取得
- 各言語のバイト数を集計
- 全言語の合計に対する各言語の割合を計算
- `include_all_commits=true`および`count_private=true`により、すべてのリポジトリを対象に計算

### 4. GitHub Trophies
**URL:** `https://github-profile-trophy.vercel.app`

#### 表示されるトロフィー
様々な実績に基づいてトロフィーが付与されます：
- **Stars**: 獲得したスターの総数
- **Commits**: コミット数
- **Followers**: フォロワー数
- **Repositories**: リポジトリ数
- **Pull Requests**: プルリクエスト数
- **Issues**: イシュー数

#### 計算方法
- GitHub REST APIを使用してユーザーの統計情報を取得
- 各カテゴリごとに定義された閾値に基づいてランク（S, A, B, C）を決定
- 例：
  - Stars: 1 (Secret), 10 (Bronze), 50 (Silver), 200 (Gold)
  - Commits: 1 (Secret), 20 (Bronze), 100 (Silver), 500 (Gold)
  - 各閾値を超えるごとに上位ランクのトロフィーが付与される

### 5. Contributor Stats
**URL:** `https://github-contributor-stats.vercel.app`

#### 表示される指標
- **総コントリビュート数**: すべてのリポジトリへの貢献度
- **年間コントリビュート**: 年ごとのコントリビュート統計

#### 計算方法
- GitHub GraphQL APIを使用してコントリビューションデータを取得
- `combine_all_yearly_contributions=true`により、すべての年のコントリビュートを合算
- コミット、プルリクエスト、イシュー、コードレビューなどを含む総合的な貢献度を計算
- 上位5つの貢献リポジトリを`limit=5`パラメータで表示

### 6. Snake Animation
**GitHub Action:** `Platane/snk/svg-only@v3`

#### 表示される内容
- GitHubのコントリビューショングラフを「蛇」が食べていくアニメーション

#### 生成方法
- GitHub Actionsを使用して毎日午前1時（UTC）に自動実行（`cron: "0 1 * * *"`）
- ユーザーのコントリビューションカレンダーデータを取得
- SVG形式のアニメーションを2つ生成：
  - `snake.svg`: ライトモード用
  - `snake-dark.svg`: ダークモード用
- 生成されたSVGファイルを`img/`ディレクトリにコミット・プッシュ

## 🔄 更新頻度

### リアルタイム更新（APIベース）
以下のサービスは、READMEページが読み込まれるたびにリアルタイムでデータを取得・計算します：
- GitHub Readme Stats
- GitHub Streak Stats
- Top Languages Card
- GitHub Trophies
- Contributor Stats

これらは画像として表示されていますが、実際には動的に生成されるAPIエンドポイントです。

### スケジュール更新（GitHub Actions）
- **Snake Animation**: 毎日午前1時（UTC）に自動更新
- 手動でも`workflow_dispatch`イベントにより実行可能

## 📈 「速度」の計算について

このREADMEで表示される「速度」に関連する指標：

1. **コントリビュート頻度**
   - Streak Statsが連続日数として計算
   - 1日あたりのコントリビュート数は、総コントリビュート数を期間で割ることで概算可能

2. **リポジトリ活動速度**
   - Contributor Statsが期間ごと（年次）のコントリビュート数を表示
   - 年間のコミット数、PR数から平均的な活動ペースを推測可能

3. **成長率**
   - 各統計は累積値として表示されるため、過去のスナップショットと比較することで成長速度を算出可能
   - ただし、これらのサービス自体は成長率や速度を直接計算・表示する機能は持たない

## 🔍 データソース

すべての統計情報は**GitHub API**から取得されます：

- **REST API**: 基本的なユーザー情報、リポジトリ情報、スター数など
- **GraphQL API**: より複雑なクエリ（コントリビュート履歴、複数リポジトリの統計など）
- **Contribution Calendar**: コントリビューショングラフのデータ

## ⚙️ 技術スタック

- **Vercel**: 統計画像を動的に生成するホスティングプラットフォーム
- **GitHub Actions**: Snake Animationの定期生成
- **SVG**: すべての統計情報はスケーラブルなSVG画像として提供

## 📝 まとめ

このプロフィールREADMEの統計情報は、外部のサードパーティサービスを利用して自動的に計算・表示されています。主な計算方法は：

1. **GitHub APIからのデータ取得**: すべての元データはGitHubの公式APIから取得
2. **サービス側での集計**: 各統計サービスがAPIデータを解析・集計
3. **動的画像生成**: リクエスト時にSVG画像として統計を生成
4. **定期更新**: 一部（Snake Animation）はGitHub Actionsで定期実行

「速度」という観点では、これらのサービスは主に累積値を表示しますが、Streak Statsの連続日数やContributor Statsの年次統計から、活動の頻度やペースを間接的に把握できる仕組みとなっています。
